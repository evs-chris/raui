<div class-card {{>extra-attributes}}>
  {{>content}}
</div>

<script>
  import Ractive from 'ractive';
  import globalRegister from './globalRegister';

  const template = $TEMPLATE;

  export const Card = Ractive.macro(
    handle => {
      handle.setTemplate( template );
    }, {
      cssId: 'rm-card',
      css: $CSS,
      attributes: []
    }
  );

  export function plugin(opts = {}) {
    return function({ instance }) {
      instance.partials[opts.name || 'card'] = Card;
    };
  }

  globalRegister('RMCard', 'partials', Card);

  export default plugin;
</script>

<script rel="css">
  return `
  .card {
    display: block;
    padding: 0.5em;
    color: ${data('card.fg') || data('fg1')};
    background-color: ${data('card.bg') || data('bg1')};
    box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);
    border-radius: 2px;
  }
  `;
</script>
